var userFinder = require('dao/finder/user');
var UserStore = require('dao/store/user');
var loadUserSession = require('lib/use-case/load-user-session');
var getUserStream = require('app/stream/get-user-stream');
var UserEntity = require('lib/entity/user');
var builder = function (data) {
  return new UserEntity(data);
}

module.exports = function getUserStreamBuilder() {
  return function buildGetUserStream() {
    var finder = userFinder({
      userStore: new UserStore()
    })
    var stream = getUserStream({
      loadUserSession: loadUserSession,
      userBuilder: builder,
      userFinder: finder
    });

    return stream;
  };
};
